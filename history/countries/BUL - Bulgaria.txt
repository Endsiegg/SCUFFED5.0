capital = 48

oob = "BUL_1936"

set_convoys = 10
set_war_support = 0.25
set_stability = 0.55
set_research_slots = 4

set_global_flag = bul_bftb_focus_tree

load_focus_tree = { tree = bulgarian_focus keep_completed = no }

add_ideas = { #DLC
BUL_second_national_catastrophe
BUL_army_restrictions
BUL_imro_01
BUL_georgi_ivanov_kyoseivanov_bftb
volunteer_only
}

if = { #DLC
	limit = {
		has_dlc = "Battle for the Bosporus"
	}

	###################
	#### 3D MODELS ####
	###################

	#Cosmetic tags used (3D models will look for these cosmetic tags when hooking themselves):
	#BUL_communism
	#BUL_democratic
	#BUL_fascism
	#BUL_neutrality
	set_cosmetic_tag = BUL_neutrality
}

set_technology = {
	etax_doctrine = 1
    camo = 1
		
	infantry_weapons = 1
	infantry_weapons1 = 1
	tech_support = 1
	tech_engineers = 1
	motorised_infantry = 1
	early_fighter = 1
	basic_train = 1
}
if = {
	limit = { has_dlc = "By Blood Alone" }
		set_technology = {
			engines_1 = 1
		}
	else = {
		set_technology = {
				
			early_fighter = 1
		}
	}
}
if = {
	limit = {
		NOT = { has_dlc = "No Step Back" }
	}
	set_technology = {
		gwtank = 1
	}
}
if = {
	limit = {
		has_dlc = "No Step Back"
	}
	set_technology = {
		gwtank_chassis = 1
	}
}

set_convoys = 5


### VARIABLES ###
#SET FLAGS AND VARIABLES
					#Internal Affairs
					set_country_flag = BUL_factions_unlocked_flag
					set_variable = { BUL_zveno_loyalty = 15 }
					set_variable = { BUL_zveno_popularity = 50 }
					set_variable = { BUL_bs_loyalty = 25 }
					set_variable = { BUL_bs_popularity = 60 }
					set_variable = { BUL_bzns_loyalty = 30 }
					set_variable = { BUL_bzns_popularity = 70 }
					set_variable = { BUL_nsm_loyalty = 60 }
					set_variable = { BUL_nsm_popularity = 40 }
					set_variable = { BUL_faction_interaction_cost_standard = 20 }
					set_variable = { BUL_broad_socialist_opression_cost_standard = 20 }
					set_variable = { BUL_faction_days_remove_very_low = 7 } #Allow Speech, Discredit, Repress
					set_variable = { BUL_faction_days_remove_low = 14 } #Joint Act, Ban Media, Anti-faction Speech
					set_variable = { BUL_faction_days_remove_medium = 21 } #Bolster Zveno, Imprison leaders
					set_variable = { BUL_faction_days_remove_high = 30 } #Legalize, Fund, Appoint, Raid, Destroy
					set_variable = { BUL_faction_days_remove_very_high = 60 } #Integrate
					set_variable = { BUL_faction_days_reenable_low = 7 } #Allow Speech, Discredit
					set_variable = { BUL_faction_days_reenable_medium = 14 } #Joint Act, Anti-faction Speech
					set_variable = { BUL_faction_days_reenable_high = 60 } #Fund
					set_variable = { BUL_faction_days_reenable_very_high = 120 } #Raid
					set_variable = { BUL_faction_low_increase = 5 }
					set_variable = { BUL_faction_medium_increase = 10 }
					set_variable = { BUL_faction_high_increase = 15 }
					set_variable = { BUL_faction_low_decrease = -5 }
					set_variable = { BUL_faction_medium_decrease = -10 }
					set_variable = { BUL_faction_high_decrease = -15 }
					set_variable = { BUL_ff_missions_base_days_to_add = 90 } #Base amount of days to be added to Impending FF Coup mission
					set_variable = { BUL_ff_missions_popularity_factor = 5 } #More popularity means more days to add
					set_variable = { BUL_ff_missions_loyalty_factor = -2 } #More loyalty means less days to add
					set_variable = { BUL_ff_preventive_actions_against_coup = 0 } #This will be used to reduce the chances of the FF staging the coup after they have planned it
					set_variable = { BUL_ff_preventive_actions_base_value = 5 } #The value added to the variable above every time a decision to prevent the coup is taken
					set_variable = { BUL_ff_preventive_actions_cap_value = 50 } #This is a cap to the player's ability to prevent the coup
					set_variable = { BUL_purchase_equipment_cost = 25 }
					set_variable = { BUL_foreign_military_agreements_cost = 50 }
					set_variable = { BUL_german_civ_industries_cost = 75 }
					set_variable = { BUL_british_civ_industries_cost = 75 }
					set_variable = { BUL_soviet_civ_industries_cost = 75 }
					set_variable = { BUL_foreign_industry_consumer_goods_modifier = 0 } #Used by Foreign Industry Dynamic Modifier
					set_variable = { BUL_foreign_industry_production_efficiency_modifier = -0.05 } #Used by Foreign Industry Dynamic Modifier
					set_variable = { BUL_foreign_industry_construction_speed_modifier = -0.1 } #Used by Foreign Industry Dynamic Modifier
					set_variable = { BUL_german_industrial_investments = 0 }
					set_variable = { BUL_british_industrial_investments = 0 }
					set_variable = { BUL_soviet_industrial_investments = 0 }
					set_variable = { BUL_industrial_investments_basic_cap = 3 }
					set_variable = { BUL_industrial_investments_medium_cap = 5 }
					set_variable = { BUL_industrial_investments_max_cap = 10 }
					#IMRO
					set_variable = { BUL_imro_garrisons_mp_value = 5000 }
					#Purchase foreign equipment
					set_variable = { BUL_quantity_purchased_infantry_equipment = 1000 }
					set_variable = { BUL_quantity_purchased_artillery = 100 }
					set_variable = { BUL_quantity_purchased_motorized = 100 }
					set_variable = { BUL_quantity_purchased_mechanized = 50 }
					set_variable = { BUL_quantity_purchased_armored_car = 50 }
					set_variable = { BUL_quantity_purchased_light_armor = 40 }
					set_variable = { BUL_quantity_purchased_medium_armor = 20 }
					set_variable = { BUL_quantity_purchased_heavy_armor = 10 }
					set_variable = { BUL_quantity_purchased_fighter = 40 }
					set_variable = { BUL_quantity_purchased_naval_bomber = 30 }
					set_variable = { BUL_quantity_purchased_tactical_bomber = 20 }
					#Plot Against Boris
					set_variable = { BUL_regicide_execution_time = 90 }
					#Free Balkan States dynamic modifier (NS)
					set_variable = { BUL_our_duty_in_the_balkans_consumer_goods_modifier = -0.01 }
					set_variable = { BUL_our_duty_in_the_balkans_stability_modifier = 0.05 }
					#Monthly extra chance of Boris dieing of "natural causes" (increased by 5 each month from 1943.1.1)
					set_variable = { BUL_tsar_boris_death_monthly_probability_factor = 0 }

					randomize_variable = {
						var = BUL_tsars_destination
						distribution = uniform
						min = 2
						max = 13
					}
					round_variable = BUL_tsars_destination
					randomize_variable = {
						var = BUL_march_destination
						distribution = uniform
						min = 2
						max = 13
					}
					round_variable = BUL_march_destination
					48 = { set_state_flag = BUL_initial_bulgarian_state_flag }
					212 = { set_state_flag = BUL_initial_bulgarian_state_flag }
					801 = { set_state_flag = BUL_initial_bulgarian_state_flag }
					211  = { set_state_flag = BUL_initial_bulgarian_state_flag }
					77 = { set_state_flag = BUL_historical_bulgarian_claim_flag }
					803 = { set_state_flag = BUL_historical_bulgarian_claim_flag }
					106 = { set_state_flag = BUL_historical_bulgarian_claim_flag }
					731 = { set_state_flag = BUL_historical_bulgarian_claim_flag }
					184 = { set_state_flag = BUL_historical_bulgarian_claim_flag }

set_variable = {
    var = BUL.macedonian_support
    value = 0
}
set_variable = {
    var = BUL.croatian_support
    value = 0
}
set_variable = {
    var = BUL.bosnian_support
    value = 0
}

set_variable = {
    var = BUL.slovenian_support
    value = 0
}



  set_politics = {
  	ruling_party = neutrality
	  last_election = "1938.3.27"
	  election_frequency = 48
	  elections_allowed = no
  }
					#International Relations
					add_opinion_modifier = {
						target = GRE
						modifier = BFTB_incongruous_neighbors
					}
					add_opinion_modifier = {
						target = ROM
						modifier = BFTB_incongruous_neighbors
					}
					add_opinion_modifier = {
						target = TUR
						modifier = BFTB_incongruous_neighbors
					}
					add_opinion_modifier = {
						target = YUG
						modifier = BFTB_incongruous_neighbors
					}

					#DLC POLIICS
					set_popularities = { #DLC
						democratic = 5
						fascism = 35
						neutrality = 60
						communism = 0
					}

					set_party_name = { # DLC
						ideology = democratic
						name = BUL_democratic_party_bftb
						long_name = BUL_democratic_party_bftb_long
					}



recruit_character = BUL_boris_iii						#changed to r56 version
recruit_character = BUL_georgi_dimitrov					#changed to r56 version
recruit_character = BUL_hristo_lukov					#changed to r56 version, ported r56-tree advisor role
recruit_character = BUL_nikola_mushanov					#high on the list DLC leader role, also a r56 democratic chalmer advisor
recruit_character = BUL_nikola_hadzipetkov				#same type of role non-DLC/DLC
recruit_character = BUL_konstantin_muraviev				#advisor
recruit_character = BUL_konstantin_muraviev_r56			#political advisor with 2 roles vanilla vs r56 tree, needed seperate character
recruit_character = BUL_dobri_bozhilov					#idem muraviev
recruit_character = BUL_dobri_bozhilov_r56				#idem muraviev
recruit_character = BUL_georgi_popov					#commander, merged instances, little difference, uses r56 portrait
recruit_character = BUL_vasil_boydev					#commander/advisor, ported commander changes and air chief role with improved checks
recruit_character = BUL_asen_nikolov					#commander for DLC, advisor for non-DLC
recruit_character = BUL_georgi_petsov					#merged instances, only difference was image but it isnt actually in the DLC folder
recruit_character = BUL_atanas_zhilkov					#cavalry advisor, made of same tier (and cost), no more pay-2-win, divided in instances for DLC picture
recruit_character = BUL_kiril_dimitrov_yanchulev		#different DLC/non-DLC roles, disabled non-DLC like previously
recruit_character = BUL_stoyan_stoyanov					#gonna need to split into 2 characters
recruit_character = BUL_blagoi_ivanov					#changed hc role to r56's version
recruit_character = BUL_ferdinand_kozovski				#was DLC, only existed in r56 version, ported
recruit_character = BUL_nikola_nakov					#was DLC, needs changes to be activated in road to 56, DLC activates him after SCW with event (r56 were stats all 1 + ranger trait)
#recruit_character = BUL_bonyu_stoev_pironkov			#wasnt a r56 idea, unrecruited, in favor of BUL_ivan_variklechkov_r56
#recruit_character = BUL_ivan_gaidimitriv				#wasnt a r56 idea, unrecruited, in favor of BUL_dimitar_ayryanov2
#recruit_character = BUL_nikola_totev_markov			#wasnt a r56 idea, unrecruited, in favor of BUL_asen_toshev_r56
recruit_character = BUL_sava_ivanov						#navy theorist, removed DLC check to match idea version (why?), not sure if he needs an extra modifier (has research boost on specific doctrine path) or if thats also been moved into his trait
recruit_character = BUL_ivan_sapundzhiev				#army hc, kept updated ai_will_do, was also a Road to 56 artillery guy
recruit_character = BUL_ivan_variklechkov				#was DLC, navy chief, ported ft check, kept updated ai_will_do, added non-DLC admiral role
recruit_character = BUL_vasil_kolarov_r56				#split character where vanilla version is DLC
recruit_character = BUL_todor_pavlov_r56				#split character where vanilla version is DLC

#road to 56 new (excluding split ones), all hidden for the DLC tree
recruit_character = BUL_hristo_kabakchiev				#political, commie
#"traits of democrats chosen a bit at random, to improve in the future"
recruit_character = BUL_alexander_girginov				#political, democratic demig
recruit_character = BUL_hristu_patuhov					#political, democratic-only armaments_organizer
recruit_character = BUL_stefan_stefanov_r56				#political, democratic-only cpt of industry
recruit_character = BUL_dimiter_gichev					#political, democratic-only crusader
recruit_character = BUL_boris_iotsov					#political, staunch monarchist
recruit_character = BUL_aleksandar_tsankov_r56			#political, fascist demig
recruit_character = BUL_georgi_ivanov_kyoseivanov_r56	#political, fascist/autocrat backstabber
recruit_character = BUL_bogdan_filov_r56				#political, fascist/autocrat silent workhorse
recruit_character = BUL_theodosi_daskalov_r56			#political, anti-commie war industrialist
recruit_character = BUL_petar_gabrovski					#political, fascist-only crusader
recruit_character = BUL_alexander_belev					#political, fascist-only terror prince
recruit_character = BUL_valko_chervenkov_r56 			#political, commie-only terror prince
recruit_character = BUL_kimon_georgiev_r56				#political, commie-only figurehead
recruit_character = BUL_ivan_marinov					#army chief and hc, communist-only, was wrongly visible for DLC-tree players previously, has r56 focus check namely
recruit_character = BUL_konstantin_lukash_r56			#army chief, defensive 2, gets killed by commie court
recruit_character = BUL_dimitr_ayryanov_r56				#air chief and theorist, roles not mutually exclusive
recruit_character = BUL_stoyan_stoyanov_r56				#hc air
recruit_character = BUL_trifon_trifonov_r56				#hc army
recruit_character = BUL_georgii_isserson				#army (mass assault) theorist
recruit_character = BUL_ivan_variklechkov_r56			#navy chief
recruit_character = BUL_asen_toshev_r56					#navy chief
#road to 56 characters shared by both trees
recruit_character = BUL_nicho_georgiev					#commander, level 1 so should technically be all 1's
recruit_character = BUL_ivan_dzhangozov					#hc army
recruit_character = BUL_shteryu_atanasov				#hc army, 	only for commie
recruit_character = BUL_august_kabakchiev				#hc air, 	only for commie
recruit_character = BUL_vladimir_zaimov					#army chief,only for commie
recruit_character = BUL_dimitar_stanchev				#hc army
recruit_character = BUL_vasil_vulkov					#air chief
recruit_character = BUL_gancho_manchev_r56				#air chief
if = {
	limit = {
		has_dlc = "Battle for the Bosporus"
	}
	recruit_character = BUL_atanas_shalapatov			#commander, wasnt even in road to 56?
	recruit_character = BUL_nikola_mihov				#commander, identical, unchanged
	recruit_character = BUL_kiril_stanchev				#army chief, ported ft check, kept updated ai_will_do, was outside DLC check but wasnt implemented for DLC-tree
	recruit_character = BUL_ivan_markov					#unchanged
	recruit_character = BUL_georgi_markov				#commander, wasnt even in road to 56?
	recruit_character = BUL_konstantin_lukash			#army advisor, kept updated AI prio in character, ported ft check
	recruit_character = BUL_nikola_stoychev				#commander, ported r56 portrait and engineer role
	recruit_character = BUL_damian_velchev				#commander, wasnt even in road to 56?
	recruit_character = BUL_angel_dotsev				#commander, changed to r56 stats and portrait
	recruit_character = BUL_theodosi_daskalov			#army theorist, ported ft check 
	recruit_character = BUL_trifon_trifonov				#hc army, ported ft check, kept updated ai_will_do 
	recruit_character = BUL_vladimir_stoychev			#hc army, ported ft check, kept updated ai_will_do 
	recruit_character = BUL_zachari_zachariev			#hc air , ported ft check, kept updated ai_will_do 
	recruit_character = BUL_stefan_tsanev				#hc navy, ported admiral role, ported ft check, kept updated ai_will_do 
	recruit_character = BUL_georgi_drenikov				#army theorist, ported ft check
	recruit_character = BUL_stoyan_trendafilov			#army theorist, ported ft check, kept updated ai_will_do 
	recruit_character = BUL_gancho_manchev				#air chief, ported ft check, kept updated ai_will_do, gonna need to split into 2 characters
	recruit_character = BUL_dimitr_ayryanov				#air chief, ported ft check, kept updated ai_will_do, gonna need to split into 2 characters
	recruit_character = BUL_asen_toshev					#navy chief, ported ft check, kept updated ai_will_do, gonna need to split into 2 characters
	recruit_character = BUL_bogdan_filov_fascism		#political, ported ft check
	recruit_character = BUL_dimitrana_ivanova			#political, ported ft check, ported ai_will_do based on game rules
	recruit_character = BUL_bogdan_filov				#political, ported ft check
	recruit_character = BUL_stoycho_mushanov			#political, ported ft check, ported ai_will_do based on game rules
	recruit_character = BUL_aleksandar_tsankov			#political, ported ft check, kept updated ai_will_do
	recruit_character = BUL_todor_pavlov				#political, commie, ported ft check, kept updated ai_will_do (blocks for historical AI)
	recruit_character = BUL_kimon_georgiev				#political, ported ft check
	recruit_character = BUL_ivan_dochev					#political, fascist, ported ft check, ported ai_will_do based on game rules and improved it to block for non-fascist AI
	recruit_character = BUL_stefan_stefanov				#political, ported ft check
	recruit_character = BUL_nikola_zhekov				#political, fascist, ported ft check and r56 version of ai_will_do, this one being a ft tree selection check where vanilla likely wouldnt work
	recruit_character = BUL_valko_chervenkov			#political, commie, ported ft check
	recruit_character = BUL_vasil_kolarov				#political, commie, ported ft check and r56 version of ai_will_do, this one being a ft tree selection check where vanilla likely wouldnt work

	recruit_character = BUL_ferdinand_i #Starts as empty, can become country leader later
	recruit_character = BUL_regency_council #Starts as empty, can become country leader later (tons of versions! :D)

	#activate_advisor = BUL_georgi_ivanov_kyoseivanov	#done by r56_on_actions exclusive to DLC tree

	if = {
		limit = {
			has_dlc = "La Resistance"
		}
		create_operative_leader = { #DLC
			name = "Vladimir Zaimov"
			GFX = GFX_portrait_bul_vladimir_zaimov
			traits = { operative_infiltrator operative_commando }
			bypass_recruitment = no
			available_to_spy_master = yes
			nationalities = { BUL }
		}
		recruit_character = BUL_stefan_nedev			#identical
	}
}
recruit_character = BUL_nikola_petkov					#merged instances, as only road to 56 tree has a leader role it should probably stay at the bottom for DLC users
recruit_character = BUL_georgi_ivanov_kyoseivanov		#leader role so kept at bottom, ported ft check